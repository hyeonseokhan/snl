(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[722],{1878:(e,t,r)=>{Promise.resolve().then(r.bind(r,6767))},6767:(e,t,r)=>{"use strict";r.d(t,{GoldCalculatorProvider:()=>c,x:()=>i});var n=r(5155),o=r(2115),a=r(7434);let l=o.createContext(void 0);function c(e){let{children:t}=e,[r,c]=(0,a.M)("tools/gold-calculator",[]),i=(0,o.useMemo)(()=>{if(0===r.length)return{averageCash:"0",totalCashExpense:"0",totalDeductedGold:"0"};let e=r.reduce((e,t)=>{let r=parseFloat(t.cash||"0"),n=parseFloat(t.cashExpense||"0"),o=parseFloat(t.deductedGold||"0");return{cashSum:e.cashSum+r,expenseSum:e.expenseSum+n,deductedSum:e.deductedSum+o}},{cashSum:0,expenseSum:0,deductedSum:0});return{averageCash:(e.cashSum/r.length).toLocaleString(),totalCashExpense:e.expenseSum.toLocaleString(),totalDeductedGold:e.deductedSum.toLocaleString()}},[r]);return(0,n.jsx)(l.Provider,{value:{histories:r,setGoldHistory:c,statistics:i},children:t})}let i=()=>{let e=o.useContext(l);if(!e)throw Error("useGoldCalculator must be used within a GoldCalculatorProvider");return e}},7434:(e,t,r)=>{"use strict";r.d(t,{M:()=>l});var n=r(2115);function o(e){let t=n.useRef(()=>{throw Error("Cannot call an event handler while rendering.")});return n.useInsertionEffect(()=>{t.current=e},[e]),n.useCallback(function(){for(var e,r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.call(t,...n)},[t])}let a=!!window.document&&!!window.document.createElement;function l(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{initializeWithValue:l=!1}=r,c=n.useCallback(e=>r.serializer?r.serializer(e):JSON.stringify(e),[r]),i=n.useCallback(e=>{let n;if(r.deserializer)return r.deserializer(e);if("undefined"===e)return;let o=t instanceof Function?t():t;try{n=JSON.parse(e)}catch(e){return console.error("Error parsing JSON:",e),o}return n},[r,t]),s=n.useCallback(()=>{let r=t instanceof Function?t():t;if(!a)return r;try{let t=window.localStorage.getItem(e);return t?i(t):r}catch(t){return console.warn("Error reading localStorage key “".concat(e,"”:"),t),r}},[t,e,i]),[u,d]=n.useState(()=>l?s():t instanceof Function?t():t),g=o(t=>{if(!a){console.warn("Tried setting localStorage key “".concat(e,"” even though environment is not a client"));return}try{let r=t instanceof Function?t(s()):t;window.localStorage.setItem(e,c(r)),d(r),window.dispatchEvent(new StorageEvent("local-storage",{key:e}))}catch(t){console.warn("Error setting localStorage key “".concat(e,"”:"),t)}}),w=o(()=>{if(!a){console.warn("Tried removing localStorage key “".concat(e,"” even though environment is not a client"));return}let r=t instanceof Function?t():t;window.localStorage.removeItem(e),d(r),window.dispatchEvent(new StorageEvent("local-storage",{key:e}))});n.useEffect(()=>{d(s())},[e]);let h=n.useCallback(t=>{t.key&&t.key!==e||d(s())},[e,s]);return n.useEffect(()=>(window.addEventListener("storage",h),window.addEventListener("local-storage",h),()=>{window.removeEventListener("storage",h),window.removeEventListener("local-storage",h)}),[h]),[u,g,w]}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,517,358],()=>t(1878)),_N_E=e.O()}]);